STACK SEGMENT 'STACK'
    DW 200 DUP(?)
STACK ENDS
CODE SEGMENT
    ASSUME CS:CODE,SS:STACK
START:
    MOV CX,0
INPUT:
    MOV AH,1
    INT 21H
    CMP AL,0DH
    JE OUTIT
    PUSH AX
    INC CX
    JMP INPUT
OUTIT:
    JCXZ EXIT
    MOV DL,0AH
    MOV AH,2
    INT 21H
OUTPUT:
    POP DX
    MOV AH,2
    INT 21H
    LOOP OUTPUT

EXIT:
    MOV AH,4CH
    INT 21H
CODE ENDS
END START